generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Artist {
  id                          Int               @map("id") @id @default(autoincrement())
  createdAt                   DateTime          @map("created_at") @default(now())
  updatedAt                   DateTime          @map("updated_at") @updatedAt @default(now())
  streamingService            streaming_service @map("streaming_service")
  streamingServiceInternalId  String            @map("streaming_service_internal_id") @db.VarChar(255)
  name                        String            @map("name") @db.VarChar(255)
  url                         String?           @map("url") @db.VarChar(2048)
  artworkUrl                  String?           @map("artwork_url") @db.VarChar(2048)
  songs                       Song[]
  @@map("artist")
}

model Song {
  id                          Int               @map("id") @id @default(autoincrement())
  createdAt                   DateTime          @map("created_at") @default(now())
  updatedAt                   DateTime          @map("updated_at") @updatedAt @default(now())
  streamingService            streaming_service @map("streaming_service")
  streamingServiceInternalId  String            @map("streaming_service_internal_id") @db.VarChar(255)
  name                        String            @map("name") @db.VarChar(255)
  url                         String?           @map("url") @db.VarChar(2048)
  artworkUrl                  String?           @map("artwork_url") @db.VarChar(2048)
  artists                     Artist[]
  @@map("song")
}

enum streaming_service {
  APPLE_MUSIC
  SPOTIFY
}
